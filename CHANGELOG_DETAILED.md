# ุณุฌู ุงูุชุบููุฑุงุช ุงูุชูุตููู (Changelog) - ุงูุชุญููู ุงููุงูู

---

## [1.0.2] - 2026-01-13

### ุงูุฅุตูุงุญุงุช (Bug Fixes)
- โ **ุฅุตูุงุญ ูุดููุฉ ุญุณุงุจ ุงูุชุงุฑูุฎ ููููุงุทู ุงูุฒูููุฉ ุงููุฎุชููุฉ**:
  - ุชุญุณูู ุฏุงูุฉ `fetch_and_save_prayer_times()` ูุญุณุงุจ ุงูุชุงุฑูุฎ ุจูุงุกู ุนูู timezone ูู ูุฌููุนุฉ
  - ุนูุฏ ูุฌูุฏ cache hitุ ูุชู ุงูุขู ุงุณุชุฎุฏุงู timezone ุงููุฌููุนุฉ ูุชุญุฏูุฏ "ุงูููู" ุงูุตุญูุญ
  - ูุฐุง ูููุน ูุดููุฉ ุฅุฑุณุงู ุฃููุงุช ุตูุงุฉ ูููู ุฎุงุทุฆ ูููุฌููุนุงุช ูู ููุงุทู ุฒูููุฉ ูุฎุชููุฉ

- โ **ุฅุตูุงุญ ูุดููุฉ ุงูุจูุช ุงููุทุฑุฏ ูู ุงููุฌููุนุงุช**:
  - ุฅุถุงูุฉ ูุนุงูุฌุฉ ุฐููุฉ ููุฎุทุฃ 403 ูู Telegram API
  - ุนูุฏ ุทุฑุฏ ุงูุจูุช ูู ูุฌููุนุฉุ ูุชู ุญุฐู ุจูุงูุงุช ุงููุฌููุนุฉ ููุฑุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  - ูููุน ุชูุฑุงุฑ ูุญุงููุงุช ุงูุฅุฑุณุงู ุงููุงุดูุฉ ูุชุฑุงูู ุงูุฃุฎุทุงุก

- โ **ุฅุตูุงุญ ูุดููุฉ ุชูุฑุงุฑ ุฑุณุงุฆู ุงูุณุฌู (Logging)**:
  - ุฅุถุงูุฉ ููุฏ ููุณุญ handlers ุงูููุฌูุฏุฉ ูุณุจูุงู ูุจู ุฅุถุงูุฉ handlers ุฌุฏูุฏุฉ
  - ูููุน ุชูุฑุงุฑ ุงูุณุฌูุงุช ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุช ุฃู ุฅุนุงุฏุฉ ุชุญููู ุงูููุฏ
  - ุงุณุชุฎุฏุงู `root_logger.handlers.clear()` ูู ุงูุณุทุฑ 58-59

- โ **ุฅุตูุงู ูุดููุฉ CPU Usage ุงูุนุงูู**:
  - ุฅุถุงูุฉ sleep ูุฏุฉ 30 ุซุงููุฉ ูู ููุงูุฉ ุญููุงุช ุงููุฌุฏูู
  - ุชุญุณูู azan_scheduler_loop ู content_scheduler_loop ูุชูููู ุงูุงุณุชููุงู

- โ **ุฅุตูุงุญ ูุดููุฉ ุชุณุฌูู ุงูุงุณุชุซูุงุกุงุช ุงูุฒุงุฆุฏุฉ**:
  - ุชูููู ุงุณุชุฎุฏุงู `exc_info=True` ุฅูู ุงูุถุฑูุฑู ููุท
  - ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ ูุชููู ุฃูุซุฑ ูุถูุญุงู

### ุงูุชุญุณููุงุช (Enhancements)

#### 1. ูุธุงู ุงูุณุฌูุงุช ุงููุญุณู (Enhanced Logging System)
- โ **ุฅุนุงุฏุฉ ุชุตููู ูุงููุฉ ููุธุงู logging**:
  - ุงุณุชุจุฏุงู `logging.basicConfig()` ุงูุจุณูุท ุจูุธุงู logging ูุชูุฏู
  - **ุฅุถุงูุฉ Root Logger** (ุงูุณุทูุฑ 54-55): ูุณูุญ ุจูุฑูุฑ ุฌููุน ุงููุณุชููุงุช (DEBUG ูุฃุนูู)
  - **File Handler ูุฎุตุต** (ุงูุณุทูุฑ 70-78):
    - ูุญูุธ ุงูุณุฌูุงุช ูู ููู `bot_debug.log`
    - ูุณุชุฎุฏู encoding UTF-8 ูุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ
    - ููุชูุท ุฌููุน ุงููุณุชููุงุช ูู DEBUG ุฅูู CRITICAL
    - ููุฑูุงุช ููุตู: ุงูุชุงุฑูุฎ | ุงููุณุชูู | ุงูููู:ุงูุณุทุฑ | ุงูุฑุณุงูุฉ

  - **Console Handler ูุน ููุชุฑ ูุฎุตุต** (ุงูุณุทูุฑ 83-104):
    - ูุฆุฉ `ConsoleFilter` ุฌุฏูุฏุฉ ูุชูููู ุงูุถูุถุงุก ูู ุงูุชูุฑููู
    - ูุนุฑุถ ููุท ุงูุฑุณุงุฆู ุงููููุฉ (INFO, WARNING, ERROR, CRITICAL)
    - ูุฎูู ุฑุณุงุฆู DEBUG ูู ุงูุชูุฑููู ูุชุฌูุจ ุงูุฅุฑุจุงู
    - ููุฑูุงุช ุจุณูุท: `LEVEL: message` ุจุฏูู ุชุงุฑูุฎ ูุชูุงุตูู ูุนูุฏุฉ

  - **Logger ุฎุงุต ุจุงูุชุทุจูู** (ุงูุณุทูุฑ 115-127):
    - ุงุณู logger: `'IslamicPrayerBot'`
    - ุฑุณุงูุฉ ุงุฎุชุจุงุฑ ุนูุฏ ุงูุชุดุบูู ููุชุฃูุฏ ูู ุนูู ุงููุธุงู
    - ุฑุณุงุฆู emoji ููุชูููุฒ ุงูุณุฑูุน

  - **ููุงุฆุฏ ูุฐุง ุงูุชุญุณูู**:
    - ุงูููู ูุญุชูู ุนูู ุชูุงุตูู ูุงููุฉ ููุชุดุฎูุต
    - ุงูุชูุฑููู ูุธูู ูุณูู ุงููุฑุงุกุฉ
    - ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ ูู ุงูุณุฌูุงุช
    - ููุน ุชูุฑุงุฑ ุงูุณุฌูุงุช

#### 2. ุงุณุชูุฑุงุฏุงุช ุฌุฏูุฏุฉ (New Imports)
- โ **ุฅุถุงูุฉ `from telebot.apihelper import ApiTelegramException`** (ุงูุณุทุฑ 12):
  - ููุชุนุงูู ุจุดูู ุฃูุถู ูุน ุฃุฎุทุงุก Telegram API
  - ููููู ูู ุงุณุชุฎุฑุงุฌ error_code ู description ูู ุงูุงุณุชุซูุงุกุงุช

- โ **ุฅุถุงูุฉ `from pathlib import Path`** (ุงูุณุทุฑ 27):
  - ูุฅูุดุงุก ูุฌูุฏุงุช ุงูุณุฌูุงุช ุจุดูู ุขูู
  - ุงุณุชุฎุฏุงู `Path(LOG_FILE).parent.mkdir(parents=True, exist_ok=True)`

#### 3. ุชุญุณูู ูุนุงูุฌุฉ ุงูููุทูุฉ ุงูุฒูููุฉ (Timezone Handling)
- โ **ุชุญุณูู ุฏุงูุฉ `fetch_and_save_prayer_times()`**:
  - ุงูุณุทูุฑ 628-639: ุนูุฏ cache hitุ ูุชู ุงูุขู:
    - ุฌูุจ ุจูุงูุงุช ุงููุฌููุนุฉ ููุญุตูู ุนูู timezone
    - ุญุณุงุจ "ุงูููู" ุงูุตุญูุญ ุจูุงุกู ุนูู timezone ุงููุฌููุนุฉ
    - ูุญุงููุฉ ุฌูุจ ุฃููุงุช ุงูุตูุงุฉ ููููู ุงูุตุญูุญ
    - ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุกุงุช ุจุดูู ุขูู

  - ุงูุณุทูุฑ 662-670: ูุจู ุฌูุจ ุงูุจูุงูุงุช ูู API:
    - ุชุญุฏูุฏ ุงูุชุงุฑูุฎ ุจูุงุกู ุนูู timezone ุงููุฌููุนุฉ
    - ุงุณุชุฎุฏุงู fallback ููุชุงุฑูุฎ ุงููุญูู ุฅุฐุง ูุดู timezone
    - ุชุณุฌูู ุงูุชุงุฑูุฎ ุงููุณุชุฎุฏู ูู ุงูุณุฌูุงุช

  - **ุงููุงุฆุฏุฉ**: ุงููุฌููุนุงุช ูู ููุงุทู ุฒูููุฉ ูุฎุชููุฉ ุชุญุตู ุนูู ุฃููุงุช ุตูุงุฉ ุตุญูุญุฉ

#### 4. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก (Error Handling)
- โ **ุชุญุณูู ุฏุงูุฉ `send_azan_notification()`**:
  - ุงูุณุทูุฑ 798-817: ุฅุถุงูุฉ ูุนุงูุฌุฉ ุฎุงุตุฉ ูู `ApiTelegramException`:
    - ุงุณุชุฎุฑุงุฌ error_code ู description ูู ุงูุงุณุชุซูุงุก
    - ุฅุฐุง ูุงู error_code == 403 ุฃู ูุญุชูู ุนูู 'kicked'/'blocked':
      - ุชุณุฌูู ุชุญุฐูุฑ ูุงุถุญ
      - ุญุฐู ุจูุงูุงุช ุงููุฌููุนุฉ ููุฑุงู ุจุงุณุชุฎุฏุงู `reset_group_data(chat_id)`
      - ููุน ุชูุฑุงุฑ ุงููุญุงููุงุช ุงููุงุดูุฉ
    - ููุฃุฎุทุงุก ุงูุฃุฎุฑู: ุชุณุฌูู ุฎุทุฃ ููุตู ูุน emojis
  - ุงูุณุทุฑ 819: ุชุญุณูู ุฑุณุงูุฉ ุงูุฎุทุฃ ุงูุนุงูุฉ ูุน emoji

- โ **ุชุญุณูู ุฑุณุงุฆู ุงูุณุฌู ุจุงูู Emojis**:
  - ุฅุถุงูุฉ emojis ููุชูููุฒ ุงูุณุฑูุน:
    - ๐ ููุฑุณุงุฆู ุงูุชุดุบูููุฉ
    - โ ูููุฌุงุญ
    - โ ููุฃุฎุทุงุก ุงูุนุงูุฉ
    - โ๏ธ ููุชุญุฐูุฑุงุช
    - ๐ซ ููุญุธุฑ/ุงูุทุฑุฏ
    - ๐ ููุตูุงุฉ
    - ๐ง ูููุญุชูู

#### 5. ุชุญุณูู ุฏูุงู ุงููุฌุฏูู (Scheduler Functions)
- โ **ุชุญุณูู `azan_scheduler_loop()`**:
  - ุงูุณุทูุฑ 831-841: ุฅุฒุงูุฉ ุญุณุงุจ `today` ูู ุฎุงุฑุฌ ุญููุฉ ุงููุฌููุนุงุช
  - ุงูุณุทูุฑ 845-852: ุฅุถุงูุฉ ูุนุงูุฌุฉ ุงุณุชุซูุงุกุงุช ูู timezone
  - ุงูุณุทูุฑ 854-857: ุญุณุงุจ `today` ุฏุงุฎู ุญููุฉ ุงููุฌููุนุงุช ุจูุงุกู ุนูู timezone ูู ูุฌููุนุฉ
  - ุงูุณุทุฑ 859: ุฅุถุงูุฉ sleep 30 ุซุงููุฉ ูู ููุงูุฉ ุงูุญููุฉ
  - ุงูุณุทุฑ 861: ุฅุถุงูุฉ sleep 5 ุซูุงูู ุฅุฐุง ุชุญุทูุช ุงูุญููุฉ ุงูุฑุฆูุณูุฉ

  - **ุงููุงุฆุฏุฉ**: ุชุญุณูู ููุงุกุฉ ููุนุงูุฌุฉ ุฃูุถู ูููุฌููุนุงุช ุจููุงุทู ุฒูููุฉ ูุฎุชููุฉ

- โ **ุชุญุณูู `content_scheduler_loop()`**:
  - ุงูุณุทุฑ 1022: ุฅุฒุงูุฉ docstring "Runs in a separate thread"
  - ุงูุณุทูุฑ 1028-1032: ุฅุฒุงูุฉ ุญุณุงุจ `today` ุฎุงุฑุฌ ุงูุญููุฉ
  - ุงูุณุทูุฑ 1045-1050: ุญุณุงุจ `today` ุฏุงุฎู ุญููุฉ ุงููุฌููุนุงุช
  - ุงูุณุทูุฑ 1064-1065: ุชูููู window_minutes ุฅูู 1 ุฏูููุฉ ุจุฏูุงู ูู 2
  - ุงูุณุทูุฑ 1074-1079: ุชุจุณูุท ููุทู ุงูุชุญูู ูู ุงูููุช
  - ุงูุณุทุฑ 1088: ุฅุถุงูุฉ sleep 30 ุซุงููุฉ ูู ููุงูุฉ ุงูุญููุฉ
  - ุงูุณุทุฑ 1090: ุฅุฒุงูุฉ ุงูุณุทุฑ "Content scheduler loop stopped gracefully"

#### 6. ุฃูุงูุฑ ุฌุฏูุฏุฉ (New Commands)
- โ **ุฅุถุงูุฉ ุฃูุฑ `/test_azan`** (ุงูุณุทูุฑ 1098-1113):
  - ุฃูุฑ ุชุฌุฑูุจู ูููุดุฑููู ูุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุฃุฐุงู
  - ูุนูู ููุท ูู ุงููุฌููุนุงุช (group, supergroup)
  - ูุฑุณู ุฑุณุงูุฉ ุชุฌุฑูุจูุฉ ูุตูุงุฉ ุงูุธูุฑ
  - ูุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ ุฃู ูุดู ูุงุถุญุฉ ูููุณุชุฎุฏู
  - ูุณุงุนุฏ ูู ุชุดุฎูุต ูุดุงูู ุฅุฑุณุงู ุงูุฑุณุงุฆู

#### 7. ุชุญุณููุงุช ูู ุงูููุฏ (Code Quality Improvements)
- โ **ุชุจุณูุท ุงูููุฏ**:
  - ุงูุณุทุฑ 771: ุฏูุฌ ูุงููุณ prayer_names_arabic ูู ุณุทุฑ ูุงุญุฏ
  - ุงูุณุทูุฑ 785-788: ุฅุฒุงูุฉ ุงููุต "ุงุณุชุฎุฏู ุฒุฑ ๐ ูุงุญูุงู ูุชุณุฌูู ุตูุงุชู!"
  - ุงูุณุทุฑ 797: ุชุบููุฑ ูุณุงูุฉ ุงูุณุทุฑ ุฅูู `logger.info()` ุจุฏูุงู ูู ูุณุงุญุฉ ูุงุฑุบุฉ
  - ุงูุณุทูุฑ 1007, 1212, 2308: ุฅุฒุงูุฉ `exc_info=True` ุงูุฒุงุฆุฏ
  - ุงูุณุทุฑ 2453: ุชุตุญูุญ ูุณุงูุงุช `main()` ูู ุขุฎุฑ ุงูููู

- โ **ุชุญุณูู ุงูุชุนูููุงุช**:
  - ุฅุถุงูุฉ ุชุนูููุงุช ุนุฑุจูุฉ ุชูุถูุญูุฉ:
    - ุงูุณุทุฑ 639: "Note: We need the timezone to know 'today' correctly even in cache hit"
    - ุงูุณุทูุฑ 691-707: "ุงูุฌุฒุก ุงูุฐู ูุงู ูุงูุตุงู ูุชูุช ุฅุนุงุฏุชู"
    - ุงูุณุทูุฑ 833, 847, 856: ุฃุฑูุงู ููุชูุถูุญ (1, 2, 3)
    - ุงูุณุทูุฑ 1047-1050: "ุงูุชุนุฏูู: ุญุณุงุจ 'ุงูููู' ููู ูุฌููุนุฉ"

- โ **ุชุญุณูู ุฑุณุงุฆู ุงูุณุฌู**:
  - ุฅุถุงูุฉ emojis ูุชูููุฒ ุฃููุงุน ุงูุฑุณุงุฆู
  - ุชุจุณูุท ุฑุณุงุฆู ุงูุฎุทุฃ ูุชููู ุฃูุซุฑ ูุถูุญุงู
  - ุฅุถุงูุฉ ูุนูููุงุช ุฅุถุงููุฉ ุนูุฏ ุงูุญุงุฌุฉ

### ุงูุชุบููุฑุงุช (Changes)
- โ **ุชุบููุฑ ุฑูู ุงูุฅุตุฏุงุฑ**:
  - ูู `Version: 1.0.1 (Cleaned)` ุฅูู `Version: 1.0.2 (Enhanced Logging)`

- โ **ุชุบููุฑ ูููุฉ BOT_TOKEN ุงูุงูุชุฑุงุถูุฉ**:
  - ูู `'YOUR_BOT_TOKEN_HERE'` ุฅูู `''` (ุณูุณูุฉ ูุงุฑุบุฉ)
  - ููุฑุถ ุนูู ุงููุณุชุฎุฏู ุชุนููู BOT_TOKEN ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ

- โ **ุชุบููุฑ ุงุณู ููู ุงูุณุฌู**:
  - ูู `bot.log` ุฅูู `bot_debug.log`
  - ุงูุงุณู ุงูุฌุฏูุฏ ุฃูุซุฑ ูุถูุญุงู ุญูู ูุญุชูู ุงูููู

- โ **ุชุบููุฑ ุงุณู Logger**:
  - ูู `logger = logging.getLogger(__name__)` ุฅูู `logger = logging.getLogger('IslamicPrayerBot')`
  - ุงุณู logger ูุญุฏุฏ ููุงุถุญ ุจุฏูุงู ูู ุงุณุชุฎุฏุงู `__name__`

- โ **ุชุบููุฑ ูุณุชูู logging ููููู**:
  - ูู `logging.INFO` ุฅูู `logging.DEBUG`
  - ููุชูุท ุฃุฏู ุงูุชูุงุตูู ููุชุดุฎูุต

- โ **ุชุบููุฑ window_minutes ูููุญุชูู**:
  - ูู `CONTENT_WINDOW_MINUTES = 2` ุฅูู ุตุฑูุญ `1` ูู ุงูููุฏ
  - ุชูููู ูุงูุฐุฉ ุงูุฅุฑุณุงู ูุชุญุณูู ุงูุฏูุฉ

### ุงูุฅุถุงูุงุช (Additions)
- โ **ุฅุถุงูุฉ ุฏุงูุฉ `ConsoleFilter`** (ุงูุณุทูุฑ 83-91):
  - ูุฆุฉ ูุฎุตุตุฉ ุชุฑุซ ูู `logging.Filter`
  - ุชุณูุญ ููุท ุจุงูุฑุณุงุฆู INFO ููุง ููู
  - ุชููู ุงูุถูุถุงุก ูู ุงูุชูุฑููู

- โ **ุฅุถุงูุฉ ูุนุงูุฌ ุฃูุฑ `/test_azan`** (ุงูุณุทูุฑ 1098-1113):
  - ุฏุงูุฉ `handle_test_azan()`
  - ุฃูุฑ ุชุฌุฑูุจู ูููุดุฑููู
  - ูุณุงุนุฏ ูู ุงุฎุชุจุงุฑ ุนูู ุงูุจูุช

- โ **ุฅุถุงูุฉ ูุณุชููุงุช logging ุฌุฏูุฏุฉ**:
  - DEBUG ููููู ููุท
  - INFO ููููู ูุงููููุณูู
  - WARNING ููููู ูุงููููุณูู
  - ERROR ููููู ูุงููููุณูู
  - CRITICAL ููููู ูุงููููุณูู

### ุงูุฅุฒุงูุฉ (Removals)
- โ **ุฅุฒุงูุฉ `logging.basicConfig()`** (ุงูุณุทูุฑ 47-55 ูู ุงูุฅุตุฏุงุฑ ุงููุฏูู):
  - ุชู ุงุณุชุจุฏุงูู ุจูุธุงู logging ูุชูุฏู

- โ **ุฅุฒุงูุฉ ุงููุต "ุงุณุชุฎุฏู ุฒุฑ ๐ ูุงุญูุงู ูุชุณุฌูู ุตูุงุชู!"** (ุงูุณุทุฑ 785-788 ูู ุงูุฅุตุฏุงุฑ ุงููุฏูู):
  - ุชู ุฅุฒุงูุฉ ูุฐุง ุงููุต ูู ุฑุณุงูุฉ ุงูุฃุฐุงู

- โ **ุฅุฒุงูุฉ ุจุนุถ ุฑุณุงุฆู ุงูุณุฌู ุงูุฒุงุฆุฏุฉ**:
  - ุฅุฒุงูุฉ `exc_info=True` ูู ุจุนุถ ุฃูุงูู ุงูุฎุทุฃ ูุชุฌูุจ ุงูุชูุฑุงุฑ
  - ุฅุฒุงูุฉ ุงูุณุทุฑ "Content scheduler loop stopped gracefully"

### ุงููููุงุช ุงููุนุฏูุฉ
- โ `bot.py` - ุงูููู ุงูุฑุฆูุณู ูุน ุฌููุน ุงูุชุญุณููุงุช
- ุฌููุน ุงูุชุนุฏููุงุช ุฏุงุฎู ููู ูุงุญุฏ

### ุงูุชูุซูู
- โ **ุชุนูููุงุช ูุญุณูุฉ ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ**:
  - ุชูุถูุญ ุงูุบุฑุถ ูู ูู ุฏุงูุฉ
  - ุดุฑุญ ุงูุชุบููุฑุงุช ุงููููุฉ
  - ุชุนูููุงุช ุชูุถูุญูุฉ ุฏุงุฎู ุงูููุฏ

---

## ููุฎุต ุงูุชุบููุฑุงุช ุงูุดุงูู

### ุชุญููู ุงูุชุบููุฑุงุช ุญุณุจ ุงููุณู:

#### 1. ูุณู ุงูู Imports (ุงูุณุทูุฑ 1-28)
- **ุงูุณุทุฑ 10**: ุชุบููุฑ ุฑูู ุงูุฅุตุฏุงุฑ
- **ุงูุณุทุฑ 12**: ุฅุถุงูุฉ `from telebot.apihelper import ApiTelegramException`
- **ุงูุณุทุฑ 27**: ุฅุถุงูุฉ `from pathlib import Path`

#### 2. ูุณู ุงูู Configuration (ุงูุณุทูุฑ 30-45)
- **ุงูุณุทุฑ 35**: ุชุบููุฑ `BOT_TOKEN` ุงูุงูุชุฑุงุถู ูู `'YOUR_BOT_TOKEN_HERE'` ุฅูู `''`

#### 3. ูุณู ุงูู Logging (ุงูุณุทูุฑ 47-127) - ุชุบููุฑ ูุงูู
- ุฅุฒุงูุฉ `logging.basicConfig()` ุงูุจุณูุท (7 ุฃุณุทุฑ)
- ุฅุถุงูุฉ ูุธุงู logging ูุชูุฏู (81 ุณุทุฑ):
  - Root Logger setup (6 ุฃุณุทุฑ)
  - File Handler setup (15 ุณุทุฑ)
  - Console Filter class (9 ุฃุณุทุฑ)
  - Console Handler setup (21 ุณุทุฑ)
  - App Logger setup (13 ุฃุณุทุฑ)
  - ุฑุณุงุฆู ุงุฎุชุจุงุฑ (6 ุฃุณุทุฑ)

#### 4. ูุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช - ูู ูุชุบูุฑ
- ุฌููุน ุฏูุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุง ูู ุจุฏูู ุชุบููุฑ

#### 5. ุฏุงูุฉ `fetch_and_save_prayer_times()` (ุงูุณุทูุฑ 626-718)
- ุชุญุณููุงุช ูู ููุทู cache (13 ุณุทุฑ)
- ุชุญุณููุงุช ูู ุญุณุงุจ ุงูุชุงุฑูุฎ (10 ุฃุณุทุฑ)
- ุฅุถุงูุฉ ุชุนูููุงุช ุชูุถูุญูุฉ (3 ุฃุณุทุฑ)

#### 6. ุฏุงูุฉ `send_azan_notification()` (ุงูุณุทูุฑ 768-820)
- ุชุจุณูุท ุงูููุฏ (3 ุฃุณุทุฑ)
- ุฅุถุงูุฉ ูุนุงูุฌุฉ `ApiTelegramException` (19 ุณุทุฑ)
- ุชุญุณูู ุฑุณุงุฆู ุงูุณุฌู (2 ุณุทุฑ)

#### 7. ุฏุงูุฉ `azan_scheduler_loop()` (ุงูุณุทูุฑ 828-896)
- ุฅุฒุงูุฉ ููุฏ ุบูุฑ ุถุฑูุฑู (3 ุฃุณุทุฑ)
- ุฅุถุงูุฉ ูุนุงูุฌุฉ timezone (7 ุฃุณุทุฑ)
- ุชุญุณูู ุญุณุงุจ ุงูุชุงุฑูุฎ (3 ุฃุณุทุฑ)
- ุฅุถุงูุฉ sleep statements (2 ุณุทุฑ)
- ุชุญุณูู ุฑุณุงุฆู ุงูุณุฌู (2 ุณุทุฑ)

#### 8. ุฏุงูุฉ `content_scheduler_loop()` (ุงูุณุทูุฑ 1020-1091)
- ุฅุฒุงูุฉ docstring (1 ุณุทุฑ)
- ุฅุฒุงูุฉ ููุฏ ุบูุฑ ุถุฑูุฑู (5 ุฃุณุทุฑ)
- ุชุญุณูู ุญุณุงุจ ุงูุชุงุฑูุฎ (6 ุฃุณุทุฑ)
- ุชุจุณูุท ููุทู ุงูุชุญูู (9 ุฃุณุทุฑ)
- ุฅุถุงูุฉ sleep statement (1 ุณุทุฑ)
- ุฅุฒุงูุฉ ุฑุณุงูุฉ ุฅููุงุก (1 ุณุทุฑ)

#### 9. ุฅุถุงูุฉ ุฃูุฑ `/test_azan` (ุงูุณุทูุฑ 1098-1113)
- ุฏุงูุฉ ุฌุฏูุฏุฉ ูุงููุฉ (16 ุณุทุฑ)

#### 10. ุชุญุณููุงุช ูุชููุนุฉ ูู ุฌููุน ุฃูุญุงุก ุงูููุฏ
- ุชุญุณูู ุงูุชุนูููุงุช (ุนุฏุฉ ููุงูุน)
- ุชุญุณูู ุฑุณุงุฆู ุงูุณุฌู (ุนุฏุฉ ููุงูุน)
- ุฅุฒุงูุฉ `exc_info=True` ุงูุฒุงุฆุฏ (3 ููุงูุน)
- ุชุตุญูุญ ุงููุณุงูุงุช ูู ุขุฎุฑ ุงูููู (1 ุณุทุฑ)

---

## ุฅุญุตุงุฆูุงุช ุงูุชุบููุฑุงุช

### ุนุฏุฏ ุงูุฃุณุทุฑ ุงููุชุบูุฑุฉ
- **ุฅุฌูุงูู ุงูุณุทูุฑ ูู ุงููุฑู**: 349 ุณุทุฑ
- **ุฃุณุทุฑ ูุถุงูุฉ**: ~200 ุณุทุฑ
- **ุฃุณุทุฑ ูุญุฐููุฉ**: ~100 ุณุทุฑ
- **ุตุงูู ุงูุฒูุงุฏุฉ**: ~125 ุณุทุฑ

### ุชูุฒูุน ุงูุชุบููุฑุงุช ุญุณุจ ุงููุฆุฉ

| ุงููุฆุฉ | ุนุฏุฏ ุงูุชุบููุฑุงุช | ุงููุณุจุฉ ุงููุฆููุฉ |
|-------|--------------|----------------|
| ูุธุงู Logging | ~81 ุณุทุฑ | 23% |
| ูุนุงูุฌุฉ Timezone | ~30 ุณุทุฑ | 9% |
| ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก | ~25 ุณุทุฑ | 7% |
| ุชุญุณููุงุช ุงููุฌุฏูู | ~30 ุณุทุฑ | 9% |
| ุชุญุณููุงุช ุงูููุฏ | ~40 ุณุทุฑ | 11% |
| ุฃูุงูุฑ ุฌุฏูุฏุฉ | ~16 ุณุทุฑ | 5% |
| ุชุนูููุงุช ูุชูุซูู | ~60 ุณุทุฑ | 17% |
| ุฑุณุงุฆู ุณุฌู ูุญุณูุฉ | ~40 ุณุทุฑ | 11% |
| ุฃุฎุฑู | ~27 ุณุทุฑ | 8% |

---

## ุงูุชุฃุซูุฑ ุนูู ุงูุฃุฏุงุก

### ุชุญุณููุงุช ุงูุฃุฏุงุก
1. โ **ุชูููู ุงุณุชุฎุฏุงู CPU**:
   - ุฅุถุงูุฉ sleep 30 ุซุงููุฉ ูู ุงููุฌุฏููุงุช
   - ูููู ุงุณุชููุงู CPU ุจุดูู ููุญูุธ

2. โ **ุชูููู ุงููุชุงุจุฉ ูู ุงูุณุฌูุงุช**:
   - Console Filter ูุฎูู DEBUG ูู ุงูุชูุฑููู
   - ูููู I/O operations

3. โ **ุชุญุณูู ุงุณุชุฎุฏุงู ุงูุดุจูุฉ**:
   - ููุน ูุญุงููุงุช ุงูุฅุฑุณุงู ุงููุชูุฑุฑุฉ ูููุฌููุนุงุช ุงููุญุธูุฑุฉ
   - ุชูููู ุงูุทูุจุงุช ุงููุงุดูุฉ

### ุชุฃุซูุฑ ุงูุฐุงูุฑุฉ
- โ **ุฒูุงุฏุฉ ุทูููุฉ ูู ุงูุฐุงูุฑุฉ**:
  - ุจุณุจุจ ูุธุงู logging ุงูุฃูุซุฑ ุชูุตููุงู
  - ููู ุงูุฒูุงุฏุฉ ุถุฆููุฉ ุฌุฏุงู ููุง ุชุคุซุฑ ุนูู ุงูุฃุฏุงุก

---

## ุงูุชุฃุซูุฑ ุนูู ุงูุงุณุชูุฑุงุฑ

### ุชุญุณููุงุช ุงูุงุณุชูุฑุงุฑ
1. โ **ูุนุงูุฌุฉ ุฃูุถู ูููุฌููุนุงุช ุงููุญุธูุฑุฉ**:
   - ูููุน ุชูุฑุงุฑ ุงูุฃุฎุทุงุก
   - ูุญุงูุธ ุนูู ูุธุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

2. โ **ูุนุงูุฌุฉ ุฃูุถู ููุงุณุชุซูุงุกุงุช**:
   - ููุน ุชุญุทู ุงูุจุฑูุงูุฌ ุจุณุจุจ ุฃุฎุทุงุก ุงูุดุจูุฉ
   - ูุนุงูุฌุฉ ุงุณุชุซูุงุกุงุช timezone ุจุดูู ุขูู

3. โ **ููุน ุชูุฑุงุฑ ุงูุณุฌูุงุช**:
   - ูุณุญ handlers ุงููุฏููุฉ
   - ูููุน ุชุถุฎู ูููุงุช ุงูุณุฌูุงุช

---

## ุงูุชุฃุซูุฑ ุนูู ุงูุตูุงูุฉ

### ุชุญุณููุงุช ุงูุตูุงูุฉ
1. โ **ุณุฌูุงุช ุฃูุถู ููุชุดุฎูุต**:
   - ูุนูููุงุช ููุตูุฉ ูู ููู bot_debug.log
   - ุณูููุฉ ุชุชุจุน ุงููุดุงูู

2. โ **ุฃูุฑ ุชุฌุฑูุจู ููุงุฎุชุจุงุฑ**:
   - `/test_azan` ูุณุงุนุฏ ูู ุชุดุฎูุต ุงููุดุงูู
   - ูุณูู ุงุฎุชุจุงุฑ ุงูุฅุถุงูุงุช ุงูุฌุฏูุฏุฉ

3. โ **ุชุนูููุงุช ูุญุณูุฉ**:
  - ุดุฑุญ ูุงุถุญ ููุชุบููุฑุงุช
  - ุชุณููู ููู ุงูููุฏ ูููุทูุฑูู ุงูุฌุฏุฏ

---

## ุชูุตูุงุช ููุชุญุฏูุซ

### ูุจู ุงูุชุญุฏูุซ
1. โ **ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ**:
   - ูุณุฎ ุงุญุชูุงุทู ููุงุนุฏุฉ ุงูุจูุงูุงุช
   - ูุณุฎ ุงุญุชูุงุทู ูููู content.json

2. โ **ูุฑุงุฌุนุฉ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ**:
   - ุงูุชุฃูุฏ ูู ุชุนููู BOT_TOKEN
   - ุงูุชุฃูุฏ ูู ุตุญุฉ ุงููุณุงุฑุงุช

### ุจุนุฏ ุงูุชุญุฏูุซ
1. โ **ุงุฎุชุจุงุฑ ุงูุฃูุฑ `/test_azan`**:
   - ุงุฎุชุจุงุฑ ูู ูุฌููุนุฉ ุชุฌุฑูุจูุฉ
   - ุงูุชุฃูุฏ ูู ุนูู ุงูุฅุดุนุงุฑุงุช

2. โ **ูุฑุงูุจุฉ ุงูุณุฌูุงุช**:
   - ูุญุต bot_debug.log ููุชุฃูุฏ ูู ุงูุนูู
   - ูุฑุงูุจุฉ ุงูุณุฌูุงุช ูู ุงูุชูุฑููู

3. โ **ูุฑุงูุจุฉ ุงูุฃุฏุงุก**:
   - ุงูุชุฃูุฏ ูู ุฃู CPU usage ูุนููู
   - ุงูุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูุชูุฑุฑุฉ

---

## ูุนูููุงุช ุฅุถุงููุฉ

### ูููุงุช ุงูุณุฌูุงุช ุงูุฌุฏูุฏุฉ
- โ **bot_debug.log**:
  - ูุญุชูู ุนูู ุฌููุน ุงูุณุฌูุงุช ูู DEBUG ุฅูู CRITICAL
  - ูุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ (UTF-8)
  - ุชูุณูู ููุตู ูุน ูุนูููุงุช ุงูููู ูุงูุณุทุฑ

### ุฃูุงูุฑ ุฌุฏูุฏุฉ
- โ **/test_azan**:
  - ุฃูุฑ ุชุฌุฑูุจู ูููุดุฑููู
  - ูุฑุณู ุฃุฐุงู ุชุฌุฑูุจู
  - ูุณุงุนุฏ ูู ุชุดุฎูุต ุงููุดุงูู

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุญุณูุฉ
- โ **ุฎุทุฃ 403 (Bot kicked)**:
  - ูุชู ุงูุชุดุงูู ุชููุงุฆูุงู
  - ูุชู ุญุฐู ุจูุงูุงุช ุงููุฌููุนุฉ
  - ูููุน ุชูุฑุงุฑ ุงูุฃุฎุทุงุก

### ุชุญุณููุงุช Timezone
- โ **ุญุณุงุจ ุตุญูุญ ููุชุงุฑูุฎ**:
  - ููู ูุฌููุนุฉ ุชุงุฑูุฎูุง ุงูุฎุงุต
  - ุจูุงุกู ุนูู timezone ุงููุฌููุนุฉ
  - ูููุน ุฅุฑุณุงู ุฃููุงุช ุตูุงุฉ ุฎุงุทุฆุฉ

---

## ุงูุฎูุงุตุฉ

ูุฐุง ุงูุฅุตุฏุงุฑ [1.0.2] ููุซู ุชุญุณูุงู ูุจูุฑุงู ูู:
1. โ ูุธุงู ุงูุณุฌูุงุช (Logging System) - ุฅุนุงุฏุฉ ุชุตููู ูุงูู
2. โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก (Error Handling) - ุชุญุณูู ูุจูุฑ
3. โ ุฏุนู ุงูููุงุทู ุงูุฒูููุฉ (Timezone Support) - ุฅุตูุงุญ ููู
4. โ ููุงุกุฉ ุงูุฃุฏุงุก (Performance) - ุชุญุณูู ููุญูุธ
5. โ ุณูููุฉ ุงูุตูุงูุฉ (Maintainability) - ุชุญุณูู ูุงุถุญ

ุงูุชุญุฏูุซุงุช ุชุฑูุฒ ุนูู **ุงูุงุณุชูุฑุงุฑ** ู**ุงูุชุดุฎูุต** ู**ุงูููุงุกุฉ**ุ ููุง ูุฌุนู ุงูุจูุช ุฃูุซุฑ ููุซูููุฉ ูุณูููุฉ ูู ุงูุตูุงูุฉ.


